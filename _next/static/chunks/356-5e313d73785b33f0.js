"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[356],{7356:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(5155),s=r(2115),n=r(408),l=r.n(n),c=r(9670),i=r(6874),o=r.n(i);let d="/dashboard",u={"Air Pollutants":"#2C483E","Demographic Indicators":"#3c87c3","Heat Exposure":"#338F87","Social Determinants of Health":"#005587","Vulnerable Populations":"#226961","Health Outcomes & Conditions":"#005587","Environmental Hazards":"#11423c"};function m(e){return e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\[([^\]]+)\]\((https?:\/\/[^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-primary underline">$1</a>'):""}function x(){let[e,t]=(0,s.useState)(!1),r="https://docs.google.com/spreadsheets/d/e/2PACX-1vQj-jsVttYyQfv02E_FWiPvoNXz1Yeq7lVCKJymnxkEz9cyF5Mak9T8NFaL__5J_EsxTOgZaEcsa7Qw/pub?gid=1408499517&single=true&output=csv",[n,i]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[p,f]=(0,s.useState)(!0),[g,b]=(0,s.useState)(""),[w,j]=(0,s.useState)([]),[N,y]=(0,s.useState)({heat:!1,pollution:!1}),[v,C]=(0,s.useState)(!1),k=(0,s.useRef)(null),{getDataForUrl:_,setDataForUrl:E}=(0,c.f)();(0,s.useEffect)(()=>{f(!0);let e=_(r),t=e=>{i(e.map((e,t)=>({id:t,indicator:e.Indicator||"",cats:(e.Category||"").split(",").map(e=>e.trim()).filter(Boolean),desc:e.Description||"",source:e.Source||""}))),f(!1)};e?t(e):fetch(r).then(e=>e.text()).then(e=>{l().parse(e,{header:!0,complete:e=>{let{data:a}=e;E(r,a),t(a)}})})},[]),(0,s.useEffect)(()=>{t(/Mobi|Android/i.test(navigator.userAgent))},[]);let F=Array.from(new Set(n.flatMap(e=>e.cats))).sort();(0,s.useEffect)(()=>{let e=n;if(g){let t=g.toLowerCase();e=e.filter(e=>e.indicator.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t))}w.length&&(e=e.filter(e=>e.cats.some(e=>w.includes(e))));let{heat:t,pollution:r}=N;(t||r)&&(e=e.filter(e=>t&&e.indicator.includes("\uD83D\uDD25")||r&&e.indicator.includes("\uD83D\uDCA8"))),h(e)},[n,g,w,N]);let S=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},D=e=>{y(t=>({...t,[e]:!t[e]}))};return(0,s.useEffect)(()=>{if(v)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){k.current&&!k.current.contains(e.target)&&C(!1)}},[v]),(0,a.jsx)("section",{className:"py-8 bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-7xl",children:[(0,a.jsx)("h2",{className:"pl-4 text-3xl font-bold text-primary mb-6",children:"Our Data"}),(0,a.jsx)("hr",{className:"pl-4 border-gray-200 mb-4"}),(0,a.jsxs)("p",{className:"pl-4 mb-6 text-base text-black",children:["This section and our"," ",(0,a.jsx)(o(),{href:"/faqs",className:"text-primary underline",children:"Frequently Asked Questions"})," ","answer many common questions about the methods and indicators we used to develop the Latino Climate and Health Dashboard. Please refer to the"," ",(0,a.jsxs)(o(),{href:"https://latino.ucla.edu/research/climate-health-dashboard-technical-doc/",className:"text-primary underline",target:"_blank",rel:"noopener noreferrer",children:["Technical Report",(0,a.jsx)("img",{src:"".concat(d,"/images/external_link_blue.svg"),alt:"(external link)",className:"inline ml-1 w-4 h-4 align-text-bottom"})]})," ","for more information."]}),(0,a.jsx)("hr",{className:"border-[#AEC8C3] mb-4 ml-4"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4 pl-4",children:[(0,a.jsxs)("div",{className:"relative",ref:k,children:[(0,a.jsxs)("button",{onClick:()=>C(!v),className:" flex items-center justify-between w-[250px] h-[30px] bg-white text-[#1B3F60] rounded-full border border-[#1b3f60] pl-6 pr-0 ",children:[(0,a.jsx)("span",{className:"text-base font-lexend-lite text-[#1B3F60]/80",children:"Topical Area"}),(0,a.jsx)("span",{className:"flex items-center justify-center w-[30px] h-full bg-[#1B3F60] rounded-r-full",children:(0,a.jsx)("img",{src:"".concat(d,"/images/descending.svg"),alt:"Toggle",className:"w-4 h-4 transform ".concat(v?"rotate-180":"")})})]}),v&&(0,a.jsx)("div",{className:"absolute left-0 mt-2 w-[300px] bg-white border rounded-lg shadow-lg p-4 max-h-48 overflow-y-auto z-50",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(e=>{let t=u[e]||"#ccc",r=w.includes(e);return(0,a.jsxs)("label",{className:"inline-flex items-center mb-2 space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:r,onChange:()=>S(e),className:"h-4 w-4 text-white border-white"}),(0,a.jsx)("span",{className:"inline-flex items-center h-[26px] px-3 rounded-full text-xs text-white",style:{backgroundColor:t},children:e})]},e)})})})]}),(0,a.jsxs)("div",{className:"flex items-center bg-white border border-[#1b3f60] rounded-full ".concat(e?"w-full max-w-[12rem] h-[28px]":"w-[450px] h-[30px]"),children:[(0,a.jsx)("input",{type:"text",placeholder:"Search for title, tag, or keyword",value:g,onChange:e=>b(e.target.value),className:" flex-1 h-full pl-6 pr-2 text-base font-lexend-lite text-[#1B3F60] placeholder-[#1B3F60]/80 bg-transparent rounded-l-full focus:outline-none "}),(0,a.jsx)("span",{className:"flex items-center justify-center w-10 h-full bg-[#1B3F60] rounded-r-full",children:(0,a.jsx)("img",{src:"".concat(d,"/images/search_icon.svg"),alt:"Search",className:"w-4 h-4"})})]})]}),"  ",w.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap space-x-2 mb-4 pl-4",children:w.map(e=>(0,a.jsxs)("button",{onClick:()=>S(e),className:"flex items-center h-[26px] px-3 rounded-full text-xs text-white",style:{backgroundColor:u[e]||"#ccc"},children:[(0,a.jsx)("span",{className:"mr-1",children:"\xd7"}),e]},e))}),(0,a.jsx)("div",{className:"flex space-x-4 mb-6 pl-4",children:["heat","pollution"].map((e,t)=>{let r="heat"===e,s=N[e],n=r?"Extreme Heat":"Air Pollution";return(0,a.jsxs)("button",{onClick:()=>D(e),className:"\n          flex items-center justify-center\n          w-[192px] h-[29px]\n          rounded-full\n          border border-[#1b3f60]\n          ".concat(s?"bg-primary text-white shadow-none":"bg-[#fcfcfc] text-[#1b3f60] shadow-[0_2px_0_#1b3f60]","\n        "),children:[(0,a.jsx)("img",{src:"".concat(d).concat(r?"/images/extremeheaticon-".concat(s?"white":"primary",".svg"):"/images/airpollutionicon-".concat(s?"white":"primary",".svg")),alt:n,className:"w-5 h-5 mr-2"}),n]},e)})}),p?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)("div",{className:"space-y-6",children:x.map(e=>(0,a.jsxs)("article",{className:"border rounded p-6 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center mb-4",children:[(0,a.jsx)("span",{className:"mr-2",children:e.indicator.replace(/ðŸ”¥|ðŸ’¨/g,"").trim()}),e.indicator.includes("\uD83D\uDD25")&&(0,a.jsx)("button",{type:"button",onClick:()=>D("heat"),className:"\n                        inline-flex items-center justify-center\n                        w-[47px] h-[25px]\n                        border border-[#1B3F60]\n                        rounded-full\n                        mr-1 cursor-pointer\n                        ".concat(N.heat?"bg-primary text-white":"bg-white text-[#1B3F60]","\n                      "),title:"Toggle Extreme Heat",children:(0,a.jsx)("img",{src:"".concat(d,"/images/extremeheaticon-").concat(N.heat?"white":"primary",".svg"),alt:"Heat",className:"w-5 h-5"})}),e.indicator.includes("\uD83D\uDCA8")&&(0,a.jsx)("button",{type:"button",onClick:()=>D("pollution"),className:"\n                        inline-flex items-center justify-center\n                        w-[47px] h-[25px]\n                        border border-[#1B3F60]\n                        rounded-full\n                        cursor-pointer\n                        ".concat(N.pollution?"bg-primary text-white":"bg-white text-[#1B3F60]","\n                      "),title:"Toggle Air Pollution",children:(0,a.jsx)("img",{src:"".concat(d,"/images/airpollutionicon-").concat(N.pollution?"white":"primary",".svg"),alt:"Pollution",className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.cats.map(e=>{let t=u[e]||"#ccc";return(0,a.jsx)("button",{type:"button",onClick:()=>S(e),style:{backgroundColor:t},className:"inline-flex items-center justify-center px-3 py-1 rounded-full text-sm text-white cursor-pointer",children:e},e)})}),(0,a.jsx)("div",{className:"mb-2",dangerouslySetInnerHTML:{__html:"<strong>Description:</strong> ".concat(m(e.desc))}}),e.source&&(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:"<strong>Source:</strong> ".concat(m(e.source))}})]},e.id))})]})})}},9670:(e,t,r)=>{r.d(t,{M:()=>l,f:()=>c});var a=r(5155),s=r(2115);let n=(0,s.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function l(e){let{children:t}=e,[r,l]=(0,s.useState)({});return(0,a.jsx)(n.Provider,{value:{dataMap:r,setDataForUrl:(e,t)=>l(r=>({...r,[e]:t})),getDataForUrl:e=>r[e]||null},children:t})}function c(){let e=(0,s.useContext)(n);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}}]);