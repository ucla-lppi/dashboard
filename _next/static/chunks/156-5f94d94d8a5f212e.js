"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{9156:(e,t,l)=>{l.d(t,{default:()=>m});var a=l(5155),s=l(2115),r=l(408),i=l.n(r),n=l(9670),c=l(6874),o=l.n(c);let d="/dashboard";function m(e){let{csvUrl:t,mainHeading:l="Research",initialCategory:r="data_for_action",showInitialHeading:c=!0}=e,[m,h]=(0,s.useState)([]),[x,u]=(0,s.useState)(!0),[g,f]=(0,s.useState)(null),{getDataForUrl:b,setDataForUrl:p}=(0,n.f)(),w={data_for_action:"Data for Action",press_coverage:"Press Coverage",partners:"Partners",policy_recommendations:"Policy Recommendations",talking_points_messaging:"Talking Points & Messaging Guides"};function v(e){let{label:t,items:l,slugKey:r}=e,i=l.slice(0,4),n=(0,s.useRef)(null),[c,m]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=n.current;e&&m(e.scrollWidth>e.clientWidth);let t=()=>e&&m(e.scrollWidth>e.clientWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[l]),(0,a.jsxs)("div",{className:"mb-8 pb-8",children:[(0,a.jsxs)("div",{className:"block md:hidden relative group",children:[(0,a.jsx)("div",{ref:n,className:"flex space-x-6 overflow-x-auto pb-4",children:i.map(e=>(0,a.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,a.jsx)("img",{src:e.image_link,alt:e.title,className:"w-full h-48 object-cover"}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"relative mb-2",children:[(0,a.jsx)("h4",{className:"text-lg text-gray-900 break-words pr-6",children:e.title}),(0,a.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),e.outlet&&(0,a.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold rounded-full px-3 py-1 mb-2 whitespace-nowrap w-auto max-w-max",children:e.outlet})]})]},e.id))}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"‹"}),(0,a.jsx)("button",{onClick:()=>n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"›"})]})]}),(0,a.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:i.map(e=>(0,a.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,a.jsx)("img",{src:e.image_link,alt:e.title,className:"w-full h-48 object-cover"}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"relative mb-2",children:[(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-900 break-words pr-6",children:e.title}),(0,a.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),e.outlet&&(0,a.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold rounded-full px-3 py-1 mb-2 whitespace-nowrap w-auto max-w-max",children:e.outlet})]})]},e.id))}),l.length>4&&(0,a.jsxs)("div",{className:"mt-4 flex justify-end items-center space-x-2",children:[(0,a.jsx)("span",{href:"/".concat(r),"aria-label":"View all ".concat(t," items"),className:"text-black font-medium",children:"see all"}),(0,a.jsx)(o(),{href:"/".concat(r),"aria-label":"View all ".concat(t," items"),className:"inline-flex items-center justify-center w-10 h-10 bg-primary text-white rounded-full hover:bg-primary/90 focus:outline-none focus:ring",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 25 24","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M5 12h14M13 5l7 7-7 7"})})})]})]})}return(0,s.useEffect)(()=>{(async()=>{u(!0);let e=b(t),l=e=>{if(!e){u(!1);return}h(e.map((e,t)=>({id:e.id||e.ID||t,title:e.Title||e.title||"",description:e.Description||e.description||"",image_link:e.File||e.file||e.image_link||e.Image||"",date:e.date?function(e){if(!e)return new Date;if(e instanceof Date)return e;let t=String(e).trim(),l=t.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/);if(l)return new Date(Number(l[1]),Number(l[2])-1,Number(l[3]));let a=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(a)return new Date(Number(a[3]),Number(a[1])-1,Number(a[2]));let s=new Date(t);return isNaN(s)?new Date:new Date(s.getFullYear(),s.getMonth(),s.getDate())}(e.date):new Date,subcategory:e.subcategory||e.Subcategory||"",link:e.link||e.Link||"#",readTime:e.readTime||e["Read time"]||e.ReadTime||"",outlet:e.outlet||e.Outlet||e.outlet||""})).filter(e=>e.title&&e.image_link).sort((e,t)=>t.date-e.date)),u(!1)};if(e)l(e);else try{let e=await fetch(t);if(!e.ok)throw Error("Failed to load CSV (".concat(e.status,")"));let a=await e.text();i().parse(a,{header:!0,complete:e=>{let{data:a,errors:s}=e;if(s.length){f("Error parsing data"),u(!1);return}p(t,a),l(a)}})}catch(e){f(e.message),u(!1)}})()},[t]),(0,a.jsx)("aside",{className:"py-8 bg-white",children:(0,a.jsxs)("div",{className:"container px-4 max-w-7xl",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,a.jsx)("h2",{className:"text-3xl font-bold text-primary",children:l})}),c&&(0,a.jsx)("h3",{className:"text-xl font-semibold mb-8 text-gray-900",children:w[r]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"block md:hidden flex space-x-6 overflow-x-auto pb-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("article",{className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,a.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})]},t))}),(0,a.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("article",{className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,a.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,a.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]},t))})]}),!x&&!g&&0===m.length&&(0,a.jsx)("div",{className:"py-12 text-center",children:(0,a.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Coming Soon"})}),!x&&!g&&m.length>0&&(0,a.jsx)(v,{label:w[r],items:m.filter(e=>e.subcategory===r),slugKey:r.replace(/_/g,"-")}),!x&&!g&&m.length>0&&Object.entries(m.reduce((e,t)=>{var l;return t.subcategory!==r&&(e[l=t.subcategory]||(e[l]=[])).push(t),e},{})).map(e=>{let[t,l]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-8 text-gray-900",children:w[t]||t}),(0,a.jsx)(v,{label:w[t]||t,items:l,slugKey:t.replace(/_/g,"-")})]},t)})]})})}},9670:(e,t,l)=>{l.d(t,{M:()=>i,f:()=>n});var a=l(5155),s=l(2115);let r=(0,s.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function i(e){let{children:t}=e,[l,i]=(0,s.useState)({});return(0,a.jsx)(r.Provider,{value:{dataMap:l,setDataForUrl:(e,t)=>i(l=>({...l,[e]:t})),getDataForUrl:e=>l[e]||null},children:t})}function n(){let e=(0,s.useContext)(r);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}}]);