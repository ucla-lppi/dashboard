(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510,601,771],{3334:(e,t,l)=>{Promise.resolve().then(l.bind(l,9156))},9156:(e,t,l)=>{"use strict";l.d(t,{default:()=>m});var r=l(5155),a=l(2115),s=l(408),i=l.n(s),n=l(9670),o=l(6874),c=l.n(o);let d="/dashboard";function m(e){let{csvUrl:t,mainHeading:l="Research",initialCategory:s="data_for_action",showInitialHeading:o=!0}=e,[m,h]=(0,a.useState)([]),[u,g]=(0,a.useState)(!0),[x,b]=(0,a.useState)(null),{getDataForUrl:f,setDataForUrl:v}=(0,n.f)(),p={data_for_action:"Data for Action",press_coverage:"Press Coverage",partners:"Partners"};function w(e){let{label:t,items:l,slugKey:s}=e,i=l.slice(0,4),n=(0,a.useRef)(null),[o,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=n.current;e&&m(e.scrollWidth>e.clientWidth);let t=()=>e&&m(e.scrollWidth>e.clientWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[l]),(0,r.jsxs)("div",{className:"mb-12 relative pb-16",children:[(0,r.jsxs)("div",{className:"block md:hidden relative group",children:[(0,r.jsx)("div",{ref:n,className:"flex space-x-6 overflow-x-auto pb-4",children:i.map(e=>(0,r.jsx)(c(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-64 p-1 pb-10 bg-white overflow-hidden relative flex flex-col min-h-[28rem] transform transition-transform duration-200 hover:-translate-y-[5px]",children:(0,r.jsxs)("article",{className:"h-full",children:[(0,r.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover mb-4"}),(0,r.jsxs)("div",{className:"relative mb-2",children:[(0,r.jsx)("h4",{className:"text-lg text-gray-900 break-words pr-6",children:e.title}),(0,r.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),(0,r.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]})},e.id))}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"‹"}),(0,r.jsx)("button",{onClick:()=>n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"›"})]})]}),(0,r.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:i.map(e=>(0,r.jsx)(c(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 pb-10 bg-white overflow-hidden transform transition-transform duration-200 hover:-translate-y-[5px] relative flex flex-col h-full min-h-[28rem]",children:(0,r.jsxs)("article",{className:"h-full",children:[(0,r.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover mb-4"}),(0,r.jsxs)("div",{className:"relative mb-2",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-gray-900 break-words pr-6",children:e.title}),(0,r.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),(0,r.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]})},e.id))}),l.length>4&&(0,r.jsxs)("div",{className:"absolute bottom-10 right-0 text-center",children:[(0,r.jsx)(c(),{href:"/".concat(s),"aria-label":"View all ".concat(t," items"),className:"text-primary font-medium hover:underline block",children:"See all"}),(0,r.jsx)(c(),{href:"/".concat(s),"aria-label":"View all ".concat(t," items"),className:"mt-2 inline-flex items-center justify-center w-10 h-10 bg-primary text-white rounded-full hover:bg-primary/90 focus:outline-none focus:ring",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M5 12h14M13 5l7 7-7 7"})})})]})]})}return(0,a.useEffect)(()=>{(async()=>{g(!0);let e=f(t),l=e=>{if(!e){g(!1);return}h(e.map((e,t)=>({id:e.id||e.ID||t,title:e.Title||e.title||"",description:e.Description||e.description||"",imageUrl:e.File||e.file||e.imageUrl||e.Image||"",date:e.date?new Date(e.date):new Date,subcategory:e.subcategory||e.Subcategory||"",link:e.link||e.Link||"#",readTime:e.readTime||e["Read time"]||e.ReadTime||""})).filter(e=>e.title&&e.imageUrl).sort((e,t)=>t.date-e.date)),g(!1)};if(e)l(e);else try{let e=await fetch(t);if(!e.ok)throw Error("Failed to load CSV (".concat(e.status,")"));let r=await e.text();i().parse(r,{header:!0,complete:e=>{let{data:r,errors:a}=e;if(a.length){b("Error parsing data"),g(!1);return}v(t,r),l(r)}})}catch(e){b(e.message),g(!1)}})()},[t]),(0,r.jsx)("aside",{className:"py-8 bg-white",children:(0,r.jsxs)("div",{className:"container px-4 mx-auto max-w-7xl",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:l})}),o&&(0,r.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:p[s]}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"block md:hidden flex space-x-6 overflow-x-auto pb-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("article",{className:"inline-block w-64 p-1 pb-10 bg-white rounded-lg overflow-hidden relative animate-pulse min-h-[28rem]",children:[(0,r.jsx)("div",{className:"w-full h-48 bg-gray-300 rounded-lg mb-4"}),(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]},t))}),(0,r.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("article",{className:"p-1 pb-10 bg-white overflow-hidden relative flex flex-col h-full animate-pulse min-h-[28rem]",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"w-full h-48 bg-gray-300 mb-4"}),(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]}),(0,r.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]},t))})]}),!u&&!x&&(0,r.jsx)(w,{label:p[s],items:m.filter(e=>e.subcategory===s),slugKey:s.replace(/_/g,"-")}),!u&&!x&&Object.entries(m.reduce((e,t)=>{var l;return t.subcategory!==s&&(e[l=t.subcategory]||(e[l]=[])).push(t),e},{})).map(e=>{let[t,l]=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:p[t]||t}),(0,r.jsx)(w,{label:p[t]||t,items:l,slugKey:t.replace(/_/g,"-")})]},t)})]})})}},9670:(e,t,l)=>{"use strict";l.d(t,{M:()=>i,f:()=>n});var r=l(5155),a=l(2115);let s=(0,a.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function i(e){let{children:t}=e,[l,i]=(0,a.useState)({});return(0,r.jsx)(s.Provider,{value:{dataMap:l,setDataForUrl:(e,t)=>i(l=>({...l,[e]:t})),getDataForUrl:e=>l[e]||null},children:t})}function n(){let e=(0,a.useContext)(s);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[289,441,684,358],()=>t(3334)),_N_E=e.O()}]);