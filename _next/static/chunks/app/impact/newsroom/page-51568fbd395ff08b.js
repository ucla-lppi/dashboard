(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510,601,771],{3334:(e,t,r)=>{Promise.resolve().then(r.bind(r,9156))},9156:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var l=r(5155),s=r(2115),a=r(408),i=r.n(a),n=r(9670),o=r(6874),c=r.n(o);function d(e){let{csvUrl:t,mainHeading:r="Research",initialCategory:a="data_for_action",showInitialHeading:o=!0}=e,[d,m]=(0,s.useState)([]),[h,u]=(0,s.useState)(!0),[g,x]=(0,s.useState)(null),{getDataForUrl:f,setDataForUrl:b}=(0,n.f)(),v={data_for_action:"Data for Action",press_coverage:"Press Coverage",partners:"Partners"};function p(e){let{label:t,items:r,slugKey:a}=e,i=r.slice(0,4),n=(0,s.useRef)(null),[o,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=n.current;e&&d(e.scrollWidth>e.clientWidth);let t=()=>e&&d(e.scrollWidth>e.clientWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[r]),(0,l.jsxs)("div",{className:"mb-12 relative pb-16",children:[(0,l.jsxs)("div",{className:"block md:hidden relative group",children:[(0,l.jsx)("div",{ref:n,className:"flex space-x-6 overflow-x-auto pb-4",children:i.map(e=>(0,l.jsx)(c(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-64 p-1 pb-10 bg-white overflow-hidden relative flex flex-col min-h-[28rem] transform transition-transform duration-200 hover:-translate-y-[5px]",children:(0,l.jsxs)("article",{className:"h-full",children:[(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover mb-4"}),(0,l.jsxs)("div",{className:"relative mb-2",children:[(0,l.jsx)("h4",{className:"text-lg text-gray-900 break-words pr-6",children:e.title}),(0,l.jsx)("img",{src:"/images/external_link.svg",alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),(0,l.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]})},e.id))}),o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"‹"}),(0,l.jsx)("button",{onClick:()=>n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"›"})]})]}),(0,l.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:i.map(e=>(0,l.jsx)(c(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 pb-10 bg-white overflow-hidden transform transition-transform duration-200 hover:-translate-y-[5px] relative flex flex-col h-full min-h-[28rem]",children:(0,l.jsxs)("article",{className:"h-full",children:[(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover mb-4"}),(0,l.jsxs)("div",{className:"relative mb-2",children:[(0,l.jsx)("h4",{className:"text-lg font-bold text-gray-900 break-words pr-6",children:e.title}),(0,l.jsx)("img",{src:"/images/external_link.svg",alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),(0,l.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]})},e.id))}),r.length>4&&(0,l.jsxs)(c(),{href:"/".concat(a),"aria-label":"View all ".concat(t," items"),className:"absolute bottom-10 right-0 inline-flex items-center space-x-2 text-primary font-medium hover:underline cursor-pointer",children:[(0,l.jsx)("span",{children:"See all"}),(0,l.jsx)("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-primary text-white rounded-full hover:bg-primary/90 focus:outline-none focus:ring",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M5 12h14M13 5l7 7-7 7"})})})]})]})}return(0,s.useEffect)(()=>{(async()=>{u(!0);let e=f(t),r=e=>{if(!e){u(!1);return}m(e.map((e,t)=>({id:e.id||e.ID||t,title:e.Title||e.title||"",description:e.Description||e.description||"",imageUrl:e.File||e.file||e.imageUrl||e.Image||"",date:e.date?new Date(e.date):new Date,subcategory:e.subcategory||e.Subcategory||"",link:e.link||e.Link||"#",readTime:e.readTime||e["Read time"]||e.ReadTime||""})).filter(e=>e.title&&e.imageUrl).sort((e,t)=>t.date-e.date)),u(!1)};if(e)r(e);else try{let e=await fetch(t);if(!e.ok)throw Error("Failed to load CSV (".concat(e.status,")"));let l=await e.text();i().parse(l,{header:!0,complete:e=>{let{data:l,errors:s}=e;if(s.length){x("Error parsing data"),u(!1);return}b(t,l),r(l)}})}catch(e){x(e.message),u(!1)}})()},[t]),(0,l.jsx)("aside",{className:"py-8 bg-white",children:(0,l.jsxs)("div",{className:"container px-4 mx-auto max-w-7xl",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:r})}),o&&(0,l.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:v[a]}),h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"block md:hidden flex space-x-6 overflow-x-auto pb-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsxs)("article",{className:"inline-block w-64 p-1 pb-10 bg-white rounded-lg overflow-hidden relative animate-pulse min-h-[28rem]",children:[(0,l.jsx)("div",{className:"w-full h-48 bg-gray-300 rounded-lg mb-4"}),(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,l.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]},t))}),(0,l.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsxs)("article",{className:"p-1 pb-10 bg-white overflow-hidden relative flex flex-col h-full animate-pulse min-h-[28rem]",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"w-full h-48 bg-gray-300 mb-4"}),(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]}),(0,l.jsx)("div",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-gray-200"})]},t))})]}),!h&&!g&&(0,l.jsx)(p,{label:v[a],items:d.filter(e=>e.subcategory===a),slugKey:a.replace(/_/g,"-")}),!h&&!g&&Object.entries(d.reduce((e,t)=>{var r;return t.subcategory!==a&&(e[r=t.subcategory]||(e[r]=[])).push(t),e},{})).map(e=>{let[t,r]=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:v[t]||t}),(0,l.jsx)(p,{label:v[t]||t,items:r,slugKey:t.replace(/_/g,"-")})]},t)})]})})}},9670:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,f:()=>n});var l=r(5155),s=r(2115);let a=(0,s.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function i(e){let{children:t}=e,[r,i]=(0,s.useState)({});return(0,l.jsx)(a.Provider,{value:{dataMap:r,setDataForUrl:(e,t)=>i(r=>({...r,[e]:t})),getDataForUrl:e=>r[e]||null},children:t})}function n(){let e=(0,s.useContext)(a);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[289,441,684,358],()=>t(3334)),_N_E=e.O()}]);