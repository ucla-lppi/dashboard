(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510,771,882],{3334:(e,t,s)=>{Promise.resolve().then(s.bind(s,9156))},9156:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var l=s(5155),a=s(2115),r=s(408),i=s.n(r),n=s(9670),c=s(6874),o=s.n(c);let d="/dashboard";function h(e){let{csvUrl:t,mainHeading:s="Research",initialCategory:r="data_for_action",showInitialHeading:c=!0}=e,[h,m]=(0,a.useState)([]),[x,g]=(0,a.useState)(!0),[u,f]=(0,a.useState)(null),{getDataForUrl:b,setDataForUrl:p}=(0,n.f)(),v={data_for_action:"Data for Action",press_coverage:"Press Coverage",partners:"Partners",policy_recommendations:"Policy Recommendations",talking_points_messaging:"Talking Points & Messaging Guides"};function w(e){let{label:t,items:s,slugKey:r}=e,i=s.slice(0,4),n=(0,a.useRef)(null),[c,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=n.current;e&&h(e.scrollWidth>e.clientWidth);let t=()=>e&&h(e.scrollWidth>e.clientWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[s]),(0,l.jsxs)("div",{className:"mb-6 pb-8",children:[(0,l.jsxs)("div",{className:"block md:hidden relative group",children:[(0,l.jsx)("div",{ref:n,className:"flex space-x-6 overflow-x-auto pb-4",children:i.map(e=>(0,l.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"}),(0,l.jsx)("div",{className:"p-4 flex-1 flex flex-col",children:(0,l.jsxs)("div",{className:"relative mb-2",children:[(0,l.jsx)("h4",{className:"text-lg text-gray-900 break-words pr-6",children:e.title}),(0,l.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]})})]},e.id))}),c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"‹"}),(0,l.jsx)("button",{onClick:()=>n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"›"})]})]}),(0,l.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:i.map(e=>(0,l.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,l.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"}),(0,l.jsx)("div",{className:"p-4 flex-1 flex flex-col",children:(0,l.jsxs)("div",{className:"relative mb-2",children:[(0,l.jsx)("h4",{className:"text-lg font-bold text-gray-900 break-words pr-6",children:e.title}),(0,l.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]})})]},e.id))}),s.length>4&&(0,l.jsxs)("div",{className:"mt-4 flex justify-end items-center space-x-2",children:[(0,l.jsx)("span",{href:"/".concat(r),"aria-label":"View all ".concat(t," items"),className:"text-black font-medium",children:"see all"}),(0,l.jsx)(o(),{href:"/".concat(r),"aria-label":"View all ".concat(t," items"),className:"inline-flex items-center justify-center w-10 h-10 bg-primary text-white rounded-full hover:bg-primary/90 focus:outline-none focus:ring",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 25 24","aria-hidden":"true",children:(0,l.jsx)("path",{d:"M5 12h14M13 5l7 7-7 7"})})})]})]})}return(0,a.useEffect)(()=>{(async()=>{g(!0);let e=b(t),s=e=>{if(!e){g(!1);return}m(e.map((e,t)=>({id:e.id||e.ID||t,title:e.Title||e.title||"",description:e.Description||e.description||"",imageUrl:e.File||e.file||e.imageUrl||e.Image||"",date:e.date?new Date(e.date):new Date,subcategory:e.subcategory||e.Subcategory||"",link:e.link||e.Link||"#",readTime:e.readTime||e["Read time"]||e.ReadTime||""})).filter(e=>e.title&&e.imageUrl).sort((e,t)=>t.date-e.date)),g(!1)};if(e)s(e);else try{let e=await fetch(t);if(!e.ok)throw Error("Failed to load CSV (".concat(e.status,")"));let l=await e.text();i().parse(l,{header:!0,complete:e=>{let{data:l,errors:a}=e;if(a.length){f("Error parsing data"),g(!1);return}p(t,l),s(l)}})}catch(e){f(e.message),g(!1)}})()},[t]),(0,l.jsx)("aside",{className:"py-8 bg-white",children:(0,l.jsxs)("div",{className:"container px-4 mx-auto max-w-7xl",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,l.jsx)("h2",{className:"text-3xl font-bold text-primary",children:s})}),c&&(0,l.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:v[r]}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"block md:hidden flex space-x-6 overflow-x-auto pb-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsxs)("article",{className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,l.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,l.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})]},t))}),(0,l.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,l.jsxs)("article",{className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,l.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,l.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]},t))})]}),!x&&!u&&0===h.length&&(0,l.jsx)("div",{className:"py-12 text-center",children:(0,l.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Coming Soon"})}),!x&&!u&&h.length>0&&(0,l.jsx)(w,{label:v[r],items:h.filter(e=>e.subcategory===r),slugKey:r.replace(/_/g,"-")}),!x&&!u&&h.length>0&&Object.entries(h.reduce((e,t)=>{var s;return t.subcategory!==r&&(e[s=t.subcategory]||(e[s]=[])).push(t),e},{})).map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:v[t]||t}),(0,l.jsx)(w,{label:v[t]||t,items:s,slugKey:t.replace(/_/g,"-")})]},t)})]})})}},9670:(e,t,s)=>{"use strict";s.d(t,{M:()=>i,f:()=>n});var l=s(5155),a=s(2115);let r=(0,a.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function i(e){let{children:t}=e,[s,i]=(0,a.useState)({});return(0,l.jsx)(r.Provider,{value:{dataMap:s,setDataForUrl:(e,t)=>i(s=>({...s,[e]:t})),getDataForUrl:e=>s[e]||null},children:t})}function n(){let e=(0,a.useContext)(r);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[289,441,684,358],()=>t(3334)),_N_E=e.O()}]);