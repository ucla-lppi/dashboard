(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{491:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(5155),r=a(2115),l=a(4991);let n="/dashboard",o="".concat(n,"/data/ca_counties.geojson"),i={mapHeight:"551"};function c(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t.current||(t.current=l.Ltv(e.current).append("svg").attr("preserveAspectRatio","xMidYMid meet").classed("w-full h-full",!0)),a.current||(a.current=l.Ltv("body").append("div").style("position","absolute").style("background","white").style("padding","5px").style("border-radius","5px").style("pointer-events","none").style("box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)").style("opacity",0));let s=()=>{let s=e.current.getBoundingClientRect().width,r=i.mapHeight;l.Pq9(o).then(e=>{let n=l.bAh().fitSize([s,r],e),o=l.zFW().projection(n);t.current.selectAll("path").remove(),t.current.attr("viewBox","0 0 ".concat(s," ").concat(r)).attr("width",s).attr("height",r),t.current.selectAll("path").data(e.features).enter().append("path").attr("d",o).attr("fill","#ccc").attr("stroke","white").attr("stroke-width",.5).on("mouseover",(e,t)=>{l.Ltv(e.target).attr("fill","#aaa"),a.current.style("opacity",1).html("<strong>".concat(t.properties.name,"</strong>")).style("left","".concat(e.pageX+10,"px")).style("top","".concat(e.pageY+10,"px"))}).on("mousemove",e=>{a.current.style("left","".concat(e.pageX+10,"px")).style("top","".concat(e.pageY+10,"px"))}).on("mouseout",e=>{l.Ltv(e.target).attr("fill","#ccc"),a.current.style("opacity",0)}).on("click",(e,t)=>{alert("Clicked on ".concat(t.properties.name))})})};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),a.current&&(a.current.remove(),a.current=null)}},[]),(0,s.jsxs)("div",{className:"relative w-full sm:mt-4 md:mt-8 lg:mt-0",style:{height:"".concat(i.heightOption,"px")},children:[(0,s.jsx)("div",{ref:e,className:"w-full h-full"}),(0,s.jsxs)("div",{className:"absolute top-4 right-1 bg-white p-4 rounded-lg shadow-[3px_3px_0px_var(--quaternary-color)] border border-primary",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("img",{src:"".concat(n,"/images/extremeheaticon.svg"),alt:"Extreme Heat Icon",width:"27",height:"23",className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Extreme Heat Fact Sheet"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("img",{src:"".concat(n,"/images/airpollutionicon.svg"),alt:"Air Pollution Icon",width:"27",height:"23",className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Air Pollution Fact Sheet"})]})]})]})}let d=e=>"".concat("dashboard").concat(e);var x=a(408),m=a.n(x);function h(e){let{onLoaded:t}=e,a=(0,r.useRef)(null),[l,n]=(0,r.useState)([]),[o,i]=(0,r.useState)(""),[c,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)({});(0,r.useEffect)(()=>{i(document.body.classList.contains("dark-mode")?"dark-mode":""),(async()=>{let e;{let t=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vS_YYdPSeEUznhdpsonMOsvZQ2Lq3R2SuJKSbvDwJ9vwvv5V4RMZEwKISWhWTpy_kokJy-DTWa5cJVF/pub?output=csv");e=await t.text()}m().parse(e,{header:!0,complete:e=>{n(e.data),x(!0),t&&t()}})})()},[t]);let u={Demographics:["White","Latino"],"Extreme Heat":["High Impact Latino","High Impact White"],"Exposure to Pollution Burden":["High Impact Latino","High Impact White"]},f=(e,t)=>l.filter(a=>a.type===e&&a.category===t).reduce((e,t)=>e+parseFloat(t.count),0),b=Object.keys(u).map(e=>{var t,a;let s=u[e].map(t=>{let a=f(e,t);return{label:t,totalValue:a}}),r=s.find(e=>e.label.includes("Latino")).totalValue,n=s.find(e=>e.label.includes("White")).totalValue,o=r-n,i=(o/n*100).toFixed(2),c=i.endsWith(".00")?parseInt(i):i,d=(null===(t=l.find(t=>t.type===e))||void 0===t?void 0:t.headerIntro)||"",x=(null===(a=l.find(t=>t.type===e))||void 0===a?void 0:a.headerIndicator)||"";return{category:e,subcategories:s,discrepancy:o,formattedDiscrepancyPercentage:c,latinoValue:r,whiteValue:n,headerIntro:d,headerIndicator:x}});(0,r.useEffect)(()=>{let e=document.querySelectorAll(".ticker"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let a=e.target,s=parseFloat(a.getAttribute("data-count")),r=0,l=performance.now(),n=e=>{let t=Math.min((e-l)/2e3,1);if(r=s*t,a.innerText=s%1==0?Math.ceil(r).toLocaleString():r.toFixed(2),t<1)requestAnimationFrame(n);else{a.innerText=s%1==0?s.toLocaleString():r.toFixed(2);let e=a.nextElementSibling;e&&(e.style.display="inline")}};requestAnimationFrame(n),t.unobserve(a)}})},{threshold:.1});return e.forEach(e=>t.observe(e)),()=>{t.disconnect()}},[l]),(0,r.useEffect)(()=>{c&&document.querySelectorAll(".ticker, .discrepancy, .comparison").forEach(e=>{e.classList.add("fade-in")})},[c]),(0,r.useEffect)(()=>{if(c){let e={};document.querySelectorAll(".box").forEach((t,a)=>{e[a]=t.offsetHeight}),p(e)}},[c]),d("/images/lppi-bg.svg");let g=(e,t)=>(0,s.jsxs)("span",{children:[e," ",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{style:{fontSize:"1.5rem"},children:t})]});return(0,s.jsx)("div",{ref:a,className:"container mx-auto py-8",children:(0,s.jsx)("div",{className:"flex flex-col items-center space-y-6",children:b.map((e,t)=>(0,s.jsx)("div",{className:"card p-6 shadow-[6px_6px_0px_var(--quaternary-color)] border border-primary rounded-lg bg-white w-full max-w-md ".concat("dark-mode"===o?"dark:bg-gray-800 dark:border-primary":""),children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 text-center",children:g(e.headerIntro,e.headerIndicator)}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-primary mb-2 text-center",children:(0,s.jsx)("span",{className:"ticker","data-count":e.latinoValue,children:e.latinoValue})})]}):(0,s.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})})},t))})})}function p(){let[e,t]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-8 p-6 min-h-screen items-start",children:[" ",(0,s.jsxs)("div",{className:"relative flex flex-col space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center h-16",children:[" ",(0,s.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"California County Profiles"})]}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Click on a county on the map to view its County Wellness Profile"}),(0,s.jsxs)("div",{className:"flex flex-col sm:justify-start lg:justify-center h-full",children:[" ",(0,s.jsx)(c,{})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4 text-right justify-end",children:[" ",(0,s.jsxs)("div",{className:"flex items-center h-16 justify-end",children:[" ",(0,s.jsxs)("h2",{className:"headline headline--medium t-right font-bold",children:[(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-primary text-3xl leading-tight",children:"California Latino"}),(0,s.jsx)("br",{}),"Neighborhood Statistics"]})]}),(0,s.jsx)(h,{onLoaded:()=>{t(!0)}})]})]})}},3192:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),r=a(6379),l=a.n(r),n=a(491),o=a(5640),i=a(2115),c=a(5215);function d(){return(0,s.jsxs)("div",{className:"relative my-2",children:[(0,s.jsx)("hr",{className:"absolute inset-x-2 top-1/2 -translate-y-1/2 border-t-[2px] border-[#333333]"}),(0,s.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 block bg-[#333333] rounded-full w-[8px] h-[8px]"}),(0,s.jsx)("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 block bg-[#333333] rounded-full w-[8px] h-[8px]"})]})}a(8846);let x="/dashboard",m=["Alameda","Alpine","Amador","Butte","Calaveras","Colusa","Contra Costa","Del Norte","El Dorado","Fresno","Glenn","Humboldt","Imperial","Inyo","Kern","Kings","Lake","Lassen","Los Angeles","Madera","Marin","Mariposa","Mendocino","Merced","Modoc","Monterey","Napa","Nevada","Orange","Placer","Plumas","Riverside","Sacramento","San Benito","San Bernardino","San Diego","San Francisco","San Joaquin","San Luis Obispo","San Mateo","Santa Barbara","Santa Clara","Santa Cruz","Shasta","Sierra","Siskiyou","Solano","Sonoma","Stanislaus","Sutter","Tehama","Trinity","Tulare","Tuolumne","Ventura","Yolo","Yuba"];function h(){let[e,t]=(0,i.useState)(""),a=(0,i.useMemo)(()=>m.filter(t=>t.toLowerCase().includes(e.toLowerCase())),[e]);return(0,s.jsx)("div",{className:"bg-tertiary p-6 rounded",children:(0,s.jsxs)("div",{id:"county-profiles",className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"w-[35%]",children:[(0,s.jsxs)("p",{className:"text-base text-gray-900 mb-4",children:["The Latino Climate and Health Dashboard equips advocates and decision-makers with strategic data on climate and health risks in Latino neighborhoods to support healthier, more resilient communities in California.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]}),(0,s.jsx)(d,{}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mb-4 p-4",children:[(0,s.jsx)("button",{className:"bg-white font-bold  text-primary px-4 py-2 rounded-[15px] shadow-[2px_2px_0px_#00000040]",children:"STATE FACT SHEET"}),(0,s.jsx)("button",{className:"bg-white font-bold text-primary px-4 py-2 rounded-[15px] shadow-[2px_2px_0px_#00000040]",children:"FAQS"})]})]}),(0,s.jsx)("div",{className:"w-px bg-[#333333] self-stretch"}),(0,s.jsxs)("div",{className:"w-[75%]",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-[28px] text-gray-900 mb-4",children:"List of California County Profiles"}),(0,s.jsxs)("div",{className:"flex items-center bg-white rounded-full border border-primary w-full max-w-md mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search for a county",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-4 py-2 font-lexendExtraLight font-extralight placeholder-gray-500 focus:outline-none rounded-l-full"}),(0,s.jsx)("span",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-r-full",children:(0,s.jsx)("img",{src:"".concat(x,"/images/search_icon.svg"),alt:"Search",className:"w-4 h-4"})})]}),(0,s.jsxs)(c.A,{autoHide:!1,forceVisible:"y",className:"rounded w-full max-h-[400px] county-scrollbar overflow-x-hidden",contentClassName:"px-4",style:{maxHeight:400},children:[(0,s.jsx)(d,{}),a.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center items-center px-4 py-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center w-full max-w-[600px] gap-6",children:[(0,s.jsx)("span",{className:"text-gray-900 pl-1",children:e}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{className:"relative w-[180px] h-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[#fcfcfc] rounded-[15px] shadow-[2px_2px_0px_#338F87]"}),(0,s.jsxs)("div",{className:"relative flex items-center justify-center h-full gap-1",children:[(0,s.jsx)("img",{src:"".concat(x,"/images/extremeheaticon-primary.svg"),alt:"Extreme Heat",className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-primary text-sm font-normal",children:"Extreme Heat"}),(0,s.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[6px] border-l-primary ml-1"})]})]}),(0,s.jsxs)("button",{className:"relative w-[180px] h-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[#fcfcfc] rounded-[15px] shadow-[2px_2px_0px_#338F87]"}),(0,s.jsxs)("div",{className:"relative flex items-center justify-center h-full gap-1",children:[(0,s.jsx)("img",{src:"".concat(x,"/images/airpollutionicon-primary.svg"),alt:"Air Pollution",className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-primary text-sm font-normal",children:"Air Pollution"}),(0,s.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[6px] border-l-primary ml-1"})]})]})]})]})}),t<a.length-1&&(0,s.jsx)(d,{})]},e))]})]})]})})}function p(e){let{children:t}=e;return(0,s.jsxs)("main",{className:"".concat(l().className," flex flex-col space-y-6 min-h-screen"),children:[(0,s.jsxs)(o.Z,{className:"flex-grow bg-[#fcfcfc] dark:bg-[#fcfcfc] rounded-[10px] shadow-[6px_6px_0px_var(--quaternary-color)] h-full border-0",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("div",{className:"mt-4 flex flex-col items-start",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsxs)("button",{onClick:()=>document.getElementById("county-profiles").scrollIntoView({behavior:"smooth"}),className:"text-m font-semibold text-black",children:["jump to ",(0,s.jsx)("br",{}),"county profiles"]}),(0,s.jsx)("button",{onClick:()=>document.getElementById("county-profiles").scrollIntoView({behavior:"smooth"}),className:"bg-tertiary text-white p-3 rounded-full shadow-md","aria-label":"Go down",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"#000",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14m-7-7l7 7-7 7"})})})]})})]}),(0,s.jsxs)(o.Z,{className:"flex-grow bg-[#fcfcfc] dark:bg-[#fcfcfc] rounded-[10px] shadow-[6px_6px_0px_var(--quaternary-color)] h-full border-0",id:"county-profiles",children:[(0,s.jsx)(h,{}),(0,s.jsx)("div",{className:"mt-4 flex flex-col items-start",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-m font-semibold text-black",children:"jump to top"}),(0,s.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-tertiary text-white p-3 rounded-full shadow-md","aria-label":"Go up",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform -rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"#000",strokeWidth:2,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14m-7-7l7 7-7 7"})})})]})})]})]})}},5181:(e,t,a)=>{Promise.resolve().then(a.bind(a,3192))}},e=>{var t=t=>e(e.s=t);e.O(0,[387,994,0,441,684,358],()=>t(5181)),_N_E=e.O()}]);