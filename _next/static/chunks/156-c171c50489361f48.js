"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{9156:(e,t,l)=>{l.d(t,{default:()=>h});var s=l(5155),a=l(2115),i=l(408),r=l.n(i),n=l(9670),c=l(6874),o=l.n(c);let d="/dashboard";function h(e){let{csvUrl:t,mainHeading:l="Research",initialCategory:i="data_for_action",showInitialHeading:c=!0}=e,[h,x]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[g,f]=(0,a.useState)(null),{getDataForUrl:b,setDataForUrl:p}=(0,n.f)(),v={data_for_action:"Data for Action",press_coverage:"Press Coverage",partners:"Partners",policy_recommendations:"Policy Recommendations",talking_points_messaging:"Talking Points & Messaging Guides"};function w(e){let{label:t,items:l,slugKey:i}=e,r=l.slice(0,4),n=(0,a.useRef)(null),[c,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=n.current;e&&h(e.scrollWidth>e.clientWidth);let t=()=>e&&h(e.scrollWidth>e.clientWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[l]),(0,s.jsxs)("div",{className:"mb-8 pb-8",children:[(0,s.jsxs)("div",{className:"block md:hidden relative group",children:[(0,s.jsx)("div",{ref:n,className:"flex space-x-6 overflow-x-auto pb-4",children:r.map(e=>(0,s.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,s.jsx)("img",{src:e.image_link,alt:e.title,className:"w-full h-48 object-cover"}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"relative mb-2",children:[(0,s.jsx)("h4",{className:"text-lg text-gray-900 break-words pr-6",children:e.title}),(0,s.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),e.outlet&&(0,s.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold rounded-full px-3 py-1 mb-2 whitespace-nowrap",children:e.outlet})]})]},e.id))}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"‹"}),(0,s.jsx)("button",{onClick:()=>n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"}),className:"hidden group-hover:flex items-center justify-center absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white bg-opacity-75 hover:bg-opacity-100 rounded-full shadow focus:outline-none focus:ring",children:"›"})]})]}),(0,s.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:r.map(e=>(0,s.jsxs)(o(),{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col min-h-[269px] transform transition duration-200 ease-in-out hover:-translate-y-[5px] hover:shadow-[0_5px_0_#c5c5c5]",children:[(0,s.jsx)("img",{src:e.image_link,alt:e.title,className:"w-full h-48 object-cover"}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"relative mb-2",children:[(0,s.jsx)("h4",{className:"text-lg font-bold text-gray-900 break-words pr-6",children:e.title}),(0,s.jsx)("img",{src:"".concat(d,"/images/external_link.svg"),alt:"External link",className:"w-4 h-4 absolute top-0 right-0"})]}),e.outlet&&(0,s.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold rounded-full px-3 py-1 mb-2 whitespace-nowrap",children:e.outlet})]})]},e.id))}),l.length>4&&(0,s.jsxs)("div",{className:"mt-4 flex justify-end items-center space-x-2",children:[(0,s.jsx)("span",{href:"/".concat(i),"aria-label":"View all ".concat(t," items"),className:"text-black font-medium",children:"see all"}),(0,s.jsx)(o(),{href:"/".concat(i),"aria-label":"View all ".concat(t," items"),className:"inline-flex items-center justify-center w-10 h-10 bg-primary text-white rounded-full hover:bg-primary/90 focus:outline-none focus:ring",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 25 24","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M5 12h14M13 5l7 7-7 7"})})})]})]})}return(0,a.useEffect)(()=>{(async()=>{u(!0);let e=b(t),l=e=>{if(!e){u(!1);return}x(e.map((e,t)=>({id:e.id||e.ID||t,title:e.Title||e.title||"",description:e.Description||e.description||"",image_link:e.File||e.file||e.image_link||e.Image||"",date:e.date?new Date(e.date):new Date,subcategory:e.subcategory||e.Subcategory||"",link:e.link||e.Link||"#",readTime:e.readTime||e["Read time"]||e.ReadTime||"",outlet:e.outlet||e.Outlet||e.outlet||""})).filter(e=>e.title&&e.image_link).sort((e,t)=>t.date-e.date)),u(!1)};if(e)l(e);else try{let e=await fetch(t);if(!e.ok)throw Error("Failed to load CSV (".concat(e.status,")"));let s=await e.text();r().parse(s,{header:!0,complete:e=>{let{data:s,errors:a}=e;if(a.length){f("Error parsing data"),u(!1);return}p(t,s),l(s)}})}catch(e){f(e.message),u(!1)}})()},[t]),(0,s.jsx)("aside",{className:"py-8 bg-white",children:(0,s.jsxs)("div",{className:"container px-4 max-w-7xl",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,s.jsx)("h2",{className:"text-3xl font-bold text-primary",children:l})}),c&&(0,s.jsx)("h3",{className:"text-xl font-semibold mb-8 text-gray-900",children:v[i]}),m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"block md:hidden flex space-x-6 overflow-x-auto pb-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("article",{className:"inline-block w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,s.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})]},t))}),(0,s.jsx)("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 items-stretch",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("article",{className:"w-72 bg-white shadow-[0_3px_0_#c5c5c5] relative flex flex-col animate-pulse min-h-[269px]",children:[(0,s.jsx)("div",{className:"w-full h-48 bg-gray-300"}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-1/2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]},t))})]}),!m&&!g&&0===h.length&&(0,s.jsx)("div",{className:"py-12 text-center",children:(0,s.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Coming Soon"})}),!m&&!g&&h.length>0&&(0,s.jsx)(w,{label:v[i],items:h.filter(e=>e.subcategory===i),slugKey:i.replace(/_/g,"-")}),!m&&!g&&h.length>0&&Object.entries(h.reduce((e,t)=>{var l;return t.subcategory!==i&&(e[l=t.subcategory]||(e[l]=[])).push(t),e},{})).map(e=>{let[t,l]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-8 text-gray-900",children:v[t]||t}),(0,s.jsx)(w,{label:v[t]||t,items:l,slugKey:t.replace(/_/g,"-")})]},t)})]})})}},9670:(e,t,l)=>{l.d(t,{M:()=>r,f:()=>n});var s=l(5155),a=l(2115);let i=(0,a.createContext)({dataMap:{},setDataForUrl:()=>{},getDataForUrl:()=>null});function r(e){let{children:t}=e,[l,r]=(0,a.useState)({});return(0,s.jsx)(i.Provider,{value:{dataMap:l,setDataForUrl:(e,t)=>r(l=>({...l,[e]:t})),getDataForUrl:e=>l[e]||null},children:t})}function n(){let e=(0,a.useContext)(i);if(!e)throw Error("useDataContext must be used within DataProvider");return e}}}]);